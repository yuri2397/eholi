<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <app-content-header [contentHeader]="contentHeader"></app-content-header>

        <section class="users-list-wrapper">
            <div class="card">

                <label class="m-2 w-50"><input
                        name="searchValue"
                        type="search"
                        placeholder="{{ 'student.placeholder.search' | translate }}"
                        [ngModel]
                        class="form-control ml-25"
                        (input)="onSearch($event.target.value)" /></label>

                <ngx-datatable
                    [rows]="datas"
                    [rowHeight]="80"
                    class="bootstrap core-bootstrap"
                    [limit]="10"
                    [externalPaging]="false"
                    [columnMode]="'force'"
                    [headerHeight]="50"
                    [footerHeight]="50"
                    [scrollbarH]="true">

                    <ngx-datatable-column
                        name="{{ 'student.table.profile' | translate }}"
                        prop="student">

                        <ng-template let-student="value"
                            ngx-datatable-cell-template>
                            <div class="avatar avatar-lg">
                                <img
                                    src="{{ student.media[0]?.original_url }}"
                                    alt="avatar" />
                            </div>
                        </ng-template>

                    </ngx-datatable-column>
                    <ngx-datatable-column
                        name="{{ 'student.table.reference' | translate }}"
                        prop="reference">
                    </ngx-datatable-column>
                    <ngx-datatable-column
                        name="{{ 'student.table.first_name' | translate }}"
                        prop="first_name">
                    </ngx-datatable-column>
                    <ngx-datatable-column
                        name="{{ 'student.table.last_name' | translate }}"
                        prop="last_name">
                    </ngx-datatable-column>
                    <ngx-datatable-column
                        name="{{ 'student.table.birth_at' | translate }}"
                        prop="birth_at">
                    </ngx-datatable-column>
                    <ngx-datatable-column
                        name="{{ 'student.table.birth_in' | translate }}"
                        prop="birth_in"
                        [width]="50">
                    </ngx-datatable-column>

                    <ngx-datatable-column
                        name="{{ 'student.table.phone' | translate }}"
                        prop="telephone"
                        [width]="40">
                        <ng-template let-telephone="value"
                            ngx-datatable-cell-template>
                            <div
                                *ngIf="!telephone"
                                class="badge badge-pill"
                                [ngClass]="{
                            'badge-light-danger': true
                          }">
                                {{ "content.undefined" | translate }}
                            </div>
                            <div *ngIf="telephone">
                                {{ telephone }}
                            </div>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column
                        name="{{ 'content.table.actions' | translate }}"
                        [width]="50"
                        [sortable]="false">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <button
                                [routerLink]="['/pages/progressions/' + row.student.id]"
                                type="button"
                                class="btn btn-icon btn-primary mx-1"
                                rippleEffect>
                                <span [data-feather]="'eye'"></span>
                                {{ row.student.id |json }}
                            </button>
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>
            </div>
        </section>
    </div>
</div>